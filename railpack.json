{
  "$schema": "https://schema.railpack.com",
  "steps": {
    "install": {
      "commands": [
        "python -m venv /app/.venv",
        ". /app/.venv/bin/activate && pip install -r requirements.txt"
      ]
    },
    "build": {
      "inputs": [{ "step": "install" }],
      "commands": [
        ". /app/.venv/bin/activate && python -m compileall src/"
      ]
    }
  },
  "deploy": {
    "startCommand": ". /app/.venv/bin/activate && cd mcp-hub && gunicorn main:app --bind 0.0.0.0:${PORT:-8000} --workers ${GUNICORN_WORKERS:-16} --worker-class uvicorn.workers.UvicornWorker --worker-connections ${GUNICORN_WORKER_CONNECTIONS:-2000} --timeout 300 --keep-alive 5 --log-level info"
  }
}
